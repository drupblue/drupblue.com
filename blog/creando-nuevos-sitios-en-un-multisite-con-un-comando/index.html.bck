<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es" dir="ltr">


<!--  --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- / -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>creando nuevos sitios en un multisite con un comando | Drupblue</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="shortcut icon" href="../../profiles/openenterprise/themes/oe/favicon/index.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../../sites/default/files/css/css_d29ec6cb6d1dfabf50d009996e7b80c5/index.css" />
  <script type="text/javascript" src="../../sites/default/files/js/js_53a9e52bb6720f4c4e0a16807b479398/index.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "googleanalytics": { "trackOutgoing": 1, "trackMailto": 1, "trackDownload": 1, "trackDownloadExtensions": "7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip" }, "cron": { "basePath": "/poormanscron", "runNext": 1414124302 } });
//--><!]]>
</script>
</head>

<body class="not-front not-logged-in page-node node-type-weblog one-sidebar sidebar-right">
  <div id="page" class="clear-block">
    <div id="header-wrap" >
      <div id="header" class="container-12 clear-block">
        <div id="site-header" class="clear-block">
          <div id="branding" class="grid-6">
                      <span id="logo"><a href="..//" rel="home"><img src="../../sites/default/files/logo/index.png" alt="Inicio" title="Inicio" width="250" height="75" /></a></span>
                                <h1 id="site-name"><a href="..//" rel="home">Drupblue</a></h1>
                              </div>
          <div class="grid-6">
            <div id="user-links" class="clear-block"><ul class="links"><li class="login first last"><a href="../../user/">Login</a></li>
</ul></div>
                          <div id="search-box"><form action="http://www.drupblue.com/blog/creando-nuevos-sitios-en-un-multisite-con-un-comando"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Buscar en este sitio: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Introduzca los términos que quiera buscar." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Buscar"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-f9432fb76b977948ff597c7f1337d615" value="form-f9432fb76b977948ff597c7f1337d615"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
</div>
                      </div>

                  <div id="site-menu" class="grid-12 alpha omega">
            <ul class="links main-menu"><li class="menu-358 first"><a href="..//" title="">Inicio</a></li>
<li class="menu-314"><a href="../../news/" title="News Articles">Noticias</a></li>
<li class="menu-1506"><a href="../../portfolio/" title="">Portfolio</a></li>
<li class="menu-316"><a href="../../services/">Servicios</a></li>
<li class="menu-310"><a href="../../blogs/" title="">Blog</a></li>
<li class="menu-313"><a href="../../faq/">FAQ</a></li>
<li class="menu-964 last"><a href="../../staff/" title="Equipo de Trabajo">Equipo</a></li>
</ul>          </div>
                </div>
      </div>
    </div>
    <!-- end of header -->
    
    <div id="slider-breadcrump" class="slider-content empty">
           <div id="slider-bc" class="container-12 clear-block">
             <div class="grid-12 region">
                            </div>
           </div>
    </div>
    <div id="slider-wrap" class="slider-content empty">
          </div>


        
    <div id="content-wrap" class="container-12 clear-block">
      <div id="main" class="column grid-8 ">
              <h1 class="title" id="page-title">creando nuevos sitios en un multisite con un comando</h1>
                        
      <div id="main-content" class="region clear-block">  
        <div id="node-47" class="node clear-block">



  <div class="meta">
      <span class="submitted">Enviado por osvaldo el Lun, 08/03/2009 - 00:38.</span>
  
    </div>

  <div class="content">
    <p>Una de las ventajas de utilizar <a href="../../portfolio/drupal/">Drupal</a> es beneficiarnos de su capacidad multisitio. Esto es poder tener sitios independientes (tanto en contenido como en nombre de dominio) en una misma instalaci&Atilde;&sup3;n de un Drupal.</p>
<p>Este es un script que hab&Atilde;&shy;a armado hace algun tiempo atr&Atilde;&iexcl;s y hoy lo <a href="http://groups.drupal.org/node/23583#comment-86096" target="_blank">posteÃ©</a> en el grupo de usuarios de Argentina respondiendole a alguien que pedia algo similar.</p>
<p>Dejo aca otra copia para tenerlo m&Atilde;&iexcl;s accesible.</p>
<blockquote><p>#!/bin/sh</p>
<p>echo "creando un nuevo sitio: $1"<br>
[ -n "$1" ] &amp;&amp; [ -n "$2" ]&nbsp; &amp;&amp; [ -n "$3" ] &amp;&amp; [ -n "$4" ] || { echo "usar: $0 dominio database dbuser dbpasswd"; exit 1; }</p>
<p>
[ -d "sites/$1" ] &amp;&amp; { echo "el sitio $1 ya existe, eliminelo primero"; exit 1;}</p>
<p>mysqladmin -u root -pPassword create $2<br>
echo |&nbsp; mysql -u root -pPassword &lt;&lt; EOF<br>
GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER<br>
ON $2.*<br>
TO '$3'@'localhost' IDENTIFIED BY '$4';<br>
EOF</p>
<p>mkdir -p sites/$1/files<br>
chown www-data sites/$1/files</p>
<p>cat &gt; sites/$1/settings.php &lt;&lt; EOF<br>
&lt;?php<br>
// \$Id:</p>
<p>\$db_url = 'mysql://$3:$4@localhost/$2';<br>
\$db_prefix = '';</p>
<p>\$update_free_access = TRUE;<br>
# \$base_url = 'http://www.example.com';&nbsp; // NO trailing slash!<br>
ini_set('arg_separator.output',&nbsp;&nbsp;&nbsp;&nbsp; '&amp;amp;');<br>
ini_set('magic_quotes_runtime',&nbsp;&nbsp;&nbsp;&nbsp; 0);<br>
ini_set('magic_quotes_sybase',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0);<br>
ini_set('session.cache_expire',&nbsp;&nbsp;&nbsp;&nbsp; 200000);<br>
ini_set('session.cache_limiter',&nbsp;&nbsp;&nbsp; 'none');<br>
ini_set('session.cookie_lifetime',&nbsp; 2000000);<br>
ini_set('session.gc_maxlifetime',&nbsp;&nbsp; 200000);<br>
ini_set('session.save_handler',&nbsp;&nbsp;&nbsp;&nbsp; 'user');<br>
ini_set('session.use_only_cookies', 1);<br>
ini_set('session.use_trans_sid',&nbsp;&nbsp;&nbsp; 0);<br>
ini_set('url_rewriter.tags',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '');<br>
EOF</p></blockquote>
<p></p>
<p>No olvidar cambiar la contrase&Atilde;&plusmn;a del usuario root del mysql (en el script, -pPassword, donde Password ser&Atilde;&shy;a la contrase&Atilde;&plusmn;a). De hecho, se debe evitar almacenar la contrase&Atilde;&plusmn;a del usuario root del mysql en un script (se aceptan sugerencias para mejorar el script ).<br>
Solo queda darle permisos de ejecuci&Atilde;&sup3;n al script y listo (chmod 755 newsite.sh basta suponiendo que el nombre del script es newsite.sh).</p>
<p>&nbsp;</p>
  </div>

  <ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../user/login/index-4.html?destination=comment%2Freply%2F47%23comment-form">Inicie sesión</a> para enviar comentarios</span></li>
</ul></div>      </div>
            </div>

    
          <div id="sidebar-right" class="column sidebar region grid-4">
        <div class="border">
          <div id="block-tagadelic-1" class="block block-tagadelic">
  <h2>Tags in Keywords</h2>

  <div class="content">
    <a href="../../category/keywords/aquia/" class="tagadelic level3" rel="tag">Aquia</a> 
<a href="../../category/keywords/blogs/" class="tagadelic level1" rel="tag">blogs</a> 
<a href="../../category/keywords/community/" class="tagadelic level4" rel="tag">community</a> 
<a href="../../category/keywords/drupal/" class="tagadelic level6" rel="tag">drupal</a> 
<a href="../../category/keywords/drupalcon/" class="tagadelic level3" rel="tag">DrupalCon</a> 
<a href="../../category/keywords/drupal-seo/" class="tagadelic level1" rel="tag">drupal seo</a> 
<a href="../../category/keywords/search-engine-marketing/" class="tagadelic level1" rel="tag">search engine marketing</a> 
<a href="../../category/keywords/seo/" class="tagadelic level1" rel="tag">SEO</a> 
<a href="../../category/keywords/training/" class="tagadelic level1" rel="tag">training</a> 
  </div>
</div>
  <div id="block-views-staff-block_1" class="block block-views">
  <h2>Nosotros</h2>

  <div class="content">
    <div class="view view-staff view-id-staff view-display-id-block_1 view-dom-id-1">
    
  
  
      <div class="view-content">
      <table class="views-view-grid">
  <tbody>
                <tr class="row-1 row-first row-last">
                  <td class="col-1">
              
  <div class="views-field-field-staff-image-fid">
                <span class="field-content"><a href="../../blogs/Marcelo%20Crua%c3%b1as/"><img src="../../sites/default/files/imagecache/staff_small/staff/marcelo-cruanas_0/index.png" alt="" title=""  class="imagecache imagecache-staff_small imagecache-default imagecache-staff_small_default" width="25" height="25" /></a></span>
  </div>
  
  <div class="views-field-title">
                <span class="field-content"><a href="../../blogs/Marcelo%20Crua%c3%b1as/">Marcelo Cruañas</a></span>
  </div>
  
  <div class="views-field-field-staff-position-value">
                <span class="field-content">Director Creativo</span>
  </div>
          </td>
                  <td class="col-2">
              
  <div class="views-field-field-staff-image-fid">
                <span class="field-content"><a href="../../blogs/Osvaldo%20Toja/"><img src="../../sites/default/files/imagecache/staff_small/staff/linkedin/index.jpg" alt="" title=""  class="imagecache imagecache-staff_small imagecache-default imagecache-staff_small_default" width="25" height="25" /></a></span>
  </div>
  
  <div class="views-field-title">
                <span class="field-content"><a href="../../blogs/Osvaldo%20Toja/">Osvaldo Toja</a></span>
  </div>
  
  <div class="views-field-field-staff-position-value">
                <span class="field-content">Director Técnico</span>
  </div>
          </td>
              </tr>
      </tbody>
</table>
    </div>
  
  
  
  
  
  
</div>   </div>
</div>
  <div id="block-views-blog-block_1" class="block block-views">
  <h2>Recent Blogs</h2>

  <div class="content">
    <div class="view view-blog view-id-blog view-display-id-block_1 view-dom-id-2">
    
  
  
      <div class="view-content">
      <div class="item-list">
    <ul>
          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <span class="views-field-field-blog-image-fid">
                <span class="field-content"></span>
  </span>
  
  <span class="views-field-title">
                <span class="field-content"><a href="../permisos-para-tablas-temporales/">permisos para tablas temporales</a></span>
  </span>
  
  <span class="views-field-nothing">
                <span class="field-content"> posted by </span>
  </span>
  
  <span class="views-field-name">
                <span class="field-content"><a href="../../blogs/osvaldo/">osvaldo</a></span>
  </span>
  
  <span class="views-field-created">
                <span class="field-content"><em>2 años 48 semanas</em> ago</span>
  </span>
</li>
          <li class="views-row views-row-2 views-row-even">  
  <span class="views-field-field-blog-image-fid">
                <span class="field-content"></span>
  </span>
  
  <span class="views-field-title">
                <span class="field-content"><a href="../incompatiblidades-entre-drupal-6-y-php-53/">incompatiblidades entre drupal 6 y php 5.3</a></span>
  </span>
  
  <span class="views-field-nothing">
                <span class="field-content"> posted by </span>
  </span>
  
  <span class="views-field-name">
                <span class="field-content"><a href="../../blogs/osvaldo/">osvaldo</a></span>
  </span>
  
  <span class="views-field-created">
                <span class="field-content"><em>2 años 48 semanas</em> ago</span>
  </span>
</li>
          <li class="views-row views-row-3 views-row-odd">  
  <span class="views-field-field-blog-image-fid">
                <span class="field-content"></span>
  </span>
  
  <span class="views-field-title">
                <span class="field-content"><a href="../instalando-drush-en-windows-xp/">instalando drush en windows xp</a></span>
  </span>
  
  <span class="views-field-nothing">
                <span class="field-content"> posted by </span>
  </span>
  
  <span class="views-field-name">
                <span class="field-content"><a href="../../blogs/osvaldo/">osvaldo</a></span>
  </span>
  
  <span class="views-field-created">
                <span class="field-content"><em>4 años 20 semanas</em> ago</span>
  </span>
</li>
          <li class="views-row views-row-4 views-row-even">  
  <span class="views-field-field-blog-image-fid">
                <span class="field-content"></span>
  </span>
  
  <span class="views-field-title">
                <span class="field-content"><a href="../formateando-campos-cck-en-un-template/">formateando campos cck en un template</a></span>
  </span>
  
  <span class="views-field-nothing">
                <span class="field-content"> posted by </span>
  </span>
  
  <span class="views-field-name">
                <span class="field-content"><a href="../../blogs/osvaldo/">osvaldo</a></span>
  </span>
  
  <span class="views-field-created">
                <span class="field-content"><em>5 años 7 semanas</em> ago</span>
  </span>
</li>
          <li class="views-row views-row-5 views-row-odd views-row-last">  
  <span class="views-field-field-blog-image-fid">
                <span class="field-content"></span>
  </span>
  
  <span class="views-field-title">
                <span class="field-content"><a href="index.html" class="active">creando nuevos sitios en un multisite con un comando</a></span>
  </span>
  
  <span class="views-field-nothing">
                <span class="field-content"> posted by </span>
  </span>
  
  <span class="views-field-name">
                <span class="field-content"><a href="../../blogs/osvaldo/">osvaldo</a></span>
  </span>
  
  <span class="views-field-created">
                <span class="field-content"><em>5 años 11 semanas</em> ago</span>
  </span>
</li>
      </ul>
</div>    </div>
  
  
  
      
<div class="more-link">
  <a href="../../blogs/">
    more  </a>
</div>
  
  
  
</div>   </div>
</div>
  <div id="block-views-blog-block_4" class="block block-views">
  <h2>Blog Archive</h2>

  <div class="content">
    <div class="view view-blog view-id-blog view-display-id-block_4 view-dom-id-3">
    
  
  
      <div class="view-content">
      <div class="item-list">
  <ul class="views-summary">
      <li><a href="../../blog-archive/201111/">Noviembre 2011</a>
              (2)
          </li>
      <li><a href="../../blog-archive/201006/">Junio 2010</a>
              (1)
          </li>
      <li><a href="../../blog-archive/200909/">Septiembre 2009</a>
              (1)
          </li>
      <li><a href="../../blog-archive/200908/">Agosto 2009</a>
              (1)
          </li>
      <li><a href="../../blog-archive/200906/">Junio 2009</a>
              (3)
          </li>
    </ul>
</div>
    </div>
  
  
  
  
  
  
</div>   </div>
</div>
        </div>
      </div>
    

    </div>



  <div id="footer-wrap" class="container-12 clear-block">
        

    <div id="footer" class="region grid-12">
        <div id="block-menu-footer-links" class="block block-menu">
  <h2>Footer Links</h2>

  <div class="content">
    <ul class="menu"><li class="leaf first"><a href="../../content/contact-us/" title="">Contáctenos</a></li>
<li class="leaf"><a href="../../politica-privacidad/" title="">Política de Privacidad</a></li>
<li class="leaf last"><a href="../../aviso-legal/" title="">Aviso Legal</a></li>
</ul>  </div>
</div>
      <div id="levelten"><a href="http://www.leveltendesign.com/enterprise">Open Enterprise drupal distribution</a> by LevelTen Interactive</div>
    </div>
  </div>


  </div>
  <script type="text/javascript">
<!--//--><![CDATA[//><!--
var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-5155520-3"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();
//--><!]]>
</script>
</body>

<!--  --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- / -->
</html>
